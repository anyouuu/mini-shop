(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"26f3":function(t,n,i){"use strict";i.r(n);var e=i("d9c6"),o=i.n(e);for(var a in e)"default"!==a&&function(t){i.d(n,t,(function(){return e[t]}))}(a);n["default"]=o.a},"7b30":function(t,n,i){var e=i("9338");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var o=i("4f06").default;o("098f5c12",e,!0,{sourceMap:!1,shadowMode:!1})},9338:function(t,n,i){var e=i("24fb");n=e(!1),n.push([t.i,".login-container[data-v-2b685b8c]{padding:%?30?%}.wechatapp[data-v-2b685b8c]{padding:%?80?% 0 %?48?%;border-bottom:%?1?% solid #e3e3e3;margin-bottom:%?72?%;text-align:center}.wechatapp .header[data-v-2b685b8c]{width:%?190?%;height:%?190?%;border:2px solid #fff;margin:%?0?% auto 0;border-radius:50%;overflow:hidden;box-shadow:1px 0 5px rgba(50,50,50,.3)}.auth-title[data-v-2b685b8c]{color:#585858;font-size:%?34?%;margin-bottom:%?40?%}.auth-subtitle[data-v-2b685b8c]{color:#888;margin-bottom:%?88?%;font-size:%?28?%}.login-btn[data-v-2b685b8c]{padding:0 %?20?%}.login-btn uni-button[data-v-2b685b8c]{height:%?88?%;line-height:%?88?%;background:#04be01;color:#fff;font-size:%?30?%;border-radius:%?999?%;text-align:center}.no-login-btn[data-v-2b685b8c]{margin-top:%?20?%;padding:0 %?20?%}.no-login-btn uni-button[data-v-2b685b8c]{height:%?88?%;line-height:%?88?%;background:#dfdfdf;color:#fff;font-size:%?30?%;border-radius:%?999?%;text-align:center}",""]),t.exports=n},b2f8:function(t,n,i){"use strict";var e;i.d(n,"b",(function(){return o})),i.d(n,"c",(function(){return a})),i.d(n,"a",(function(){return e}));var o=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("v-uni-view",{staticClass:"login-container"},[i("v-uni-view",{staticClass:"wechatapp"},[i("v-uni-image",{staticStyle:{width:"190rpx",height:"190rpx"},attrs:{src:"/static/nav_03.png"}})],1),i("v-uni-view",{staticClass:"auth-title"},[t._v("申请获取以下权限")]),i("v-uni-view",{staticClass:"auth-subtitle"},[t._v("获得你的公开信息（昵称、头像等）")]),i("v-uni-view",{staticClass:"login-btn"}),i("v-uni-view",{staticClass:"no-login-btn"},[i("v-uni-button",{staticClass:"btn-normal",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.onNotLogin.apply(void 0,arguments)}}},[t._v("暂不登录")])],1)],1)},a=[]},d003:function(t,n,i){"use strict";var e=i("7b30"),o=i.n(e);o.a},d9c6:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={data:function(){return{background:"",listData:[]}},onShow:function(){},onLoad:function(){},methods:{changeMsg:function(){this.second>0?(this.send_btn_txt=this.second+"秒",this.second--,setTimeout(this.changeMsg,1e3)):(this.send_btn_txt="获取验证码",this.second=60,this.is_send=!1)},onNotLogin:function(){this.gotoPage("/pages/index/index")},getUserInfo:function(){var t=this;wx.getUserProfile({lang:"zh_CN",desc:"用于完善会员资料",success:function(n){if("getUserProfile:ok"!==n.errMsg)return!1;uni.showLoading({title:"正在登录",mask:!0}),wx.login({success:function(i){t._post("user.user/login",{code:i.code,user_info:n.rawData,encrypted_data:encodeURIComponent(n.encryptedData),iv:encodeURIComponent(n.iv),signature:n.signature,referee_id:uni.getStorageSync("referee_id"),source:"wx"},(function(t){uni.setStorageSync("token",t.data.token),uni.setStorageSync("user_id",t.data.user_id),uni.navigateBack()}),!1,(function(){uni.hideLoading()}))}})}})},onGetAuthorize:function(t){console.log("开始授权");var n=this;uni.login({provider:"alipay",success:function(t){console.log("sucss"),console.log(t),uni.getUserInfo({provider:"alipay",success:function(i){n.aliPayLogin(t,i)}})},fail:function(t){console.log(t)}})},aliPayLogin:function(t,n){var i=this;console.log(t),console.log(n),uni.showLoading({title:"登录中",mask:!0}),i._post("user.useralipay/login",{code:t.authCode,avatar:n.avatar,nickName:n.nickName},(function(t){uni.setStorageSync("token",t.data.token),uni.setStorageSync("user_id",t.data.user_id),uni.navigateBack()}),!1,(function(){uni.hideLoading()}))}}};n.default=e},db73:function(t,n,i){"use strict";i.r(n);var e=i("b2f8"),o=i("26f3");for(var a in o)"default"!==a&&function(t){i.d(n,t,(function(){return o[t]}))}(a);i("d003");var s,c=i("f0c5"),r=Object(c["a"])(o["default"],e["b"],e["c"],!1,null,"2b685b8c",null,!1,e["a"],s);n["default"]=r.exports}}]);