(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-shop-shop_storelist"],{"0b72":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"load-more"},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1===t.loadingType&&t.showImage,expression:"loadingType === 1 && showImage"}],staticClass:"loading-img"},[i("v-uni-view",{staticClass:"load1"},[i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}})],1),i("v-uni-view",{staticClass:"load2"},[i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}})],1),i("v-uni-view",{staticClass:"load3"},[i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}})],1)],1),i("v-uni-text",{staticClass:"loading-text",style:{color:t.color}},[t._v(t._s(0===t.loadingType?t.contentText.contentdown:1===t.loadingType?t.contentText.contentrefresh:t.contentText.contentnomore))])],1)},o=[]},1941:function(t,e,i){"use strict";i.r(e);var a=i("537b"),n=i("a4a0");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("1d5d");var d,r=i("f0c5"),s=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"6d4f196b",null,!1,a["a"],d);e["default"]=s.exports},"1d5d":function(t,e,i){"use strict";var a=i("6f1e"),n=i.n(a);n.a},3721:function(t,e,i){"use strict";i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"load-more",props:{loadingType:{type:Number,default:0},showImage:{type:Boolean,default:!0},color:{type:String,default:"#999999"},contentText:{type:Object,default:function(){return{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"已全部加载完成"}}}},data:function(){return{}}};e.default=a},"4bce":function(t,e,i){"use strict";var a=i("4ea4");i("99af"),i("ac1f"),i("841c"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("ade3")),o=a(i("db94")),d={components:{uniLoadMore:o.default},data:function(){var t;return t={distance:"",loading:!0,storeList:[],longitude:"",latitude:"",selectedId:{region:{city:"",store_id:-1,distance_unit:"",log:{file_path:""}},store_name:""},store_name:"",list_rows:10,last_page:0,page:1,no_more:!1,scrollviewHigh:0},(0,n.default)(t,"longitude",""),(0,n.default)(t,"latitude",""),(0,n.default)(t,"dinner_type",""),t},computed:{loadingType:function(){return this.loading?1:0!=this.storeList.length&&this.no_more?2:0}},onLoad:function(t){this.dinner_type=t.dinner_type},onShow:function(){},mounted:function(){this.restoreData(),this.selectedId=uni.getStorageSync("selectedId")?uni.getStorageSync("selectedId"):0,this.getcityData(),this.init()},methods:{getcityData:function(){this.getLocation()},onAuthorize:function(){var t=this;uni.openSetting({success:function(e){e.authSetting["scope.userLocation"]&&(t.isAuthor=!0,setTimeout((function(){t.getLocation((function(t){}))}),1e3))}})},getLocation:function(t){var e=this;uni.getLocation({type:"wgs84",success:function(t){e.longitude=t.longitude,e.latitude=t.latitude,e.getData()},fail:function(t){e.getData(),uni.showToast({title:"获取定位失败，请点击右下角按钮打开定位权限",duration:2e3,icon:"none"})}})},isShopid:function(t){var e=uni.getStorageSync("selectedId");return e==t},init:function(){var t=this;uni.getSystemInfo({success:function(e){t.scrollviewHigh=e.windowHeight}})},restoreData:function(){this.storeList=[],this.search="",this.no_more=!1,this.page=1},scrolltolowerFunc:function(){var t=this;if(t.bottomRefresh=!0,t.page++,t.loading=!0,t.page>t.last_page)return t.loading=!1,void(t.no_more=!0);t.getData()},getData:function(){var t=this;t.loading=!0,uni.showLoading({title:"加载中"}),t._get("supplier.index/deliveryList",{type:t.dinner_type,longitude:t.longitude||0,latitude:t.latitude||0},(function(e){uni.hideLoading(),t.loading=!1,t.storeList=t.storeList.concat(e.data.list.data),t.last_page=e.data.list.last_page,e.data.list.last_page<=1&&(t.no_more=!0)}))},chooseLocation:function(){var t=this;uni.chooseLocation({success:function(e){console.log("位置名称："+e.name),console.log("详细地址："+e.address),console.log("纬度："+e.latitude),console.log("经度："+e.longitude),t.longitude=e.longitude,t.latitude=e.latitude,t.getrecord(),t.getData()}})},search:function(){var t=this;t.loading=!0,t._get("store.store/lists",{store_name:t.store_name,longitude:t.longitude,latitude:t.latitude},(function(e){t.loading=!1,t.storeList=e.data.list}))},onSelectedStore:function(t,e){var i=this;i.selectedId=t,uni.setStorageSync("selectedId",i.selectedId),i.$fire.fire("selectShop",!0),e&&history.go(-1)},getrecord:function(){var t=this,e=t.selectedId.store_id;t._post("user.storelog/record",{store_id:e,longitude:t.longitude,latitude:t.latitude},(function(e){t.distance=e.data.detail.distance_unit}))},addSotre:function(t){var e=this,i=t.store_id;e._post("user.storelog/add",{store_id:i},(function(t){}))}}};e.default=d},"537b":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{attrs:{"data-theme":t.theme()}},[i("v-uni-scroll-view",{staticClass:"scroll-Y",style:"height:"+t.scrollviewHigh+"px;",attrs:{"scroll-y":"true","lower-threshold":"50"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.scrolltolowerFunc.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"address-list"},[t._l(t.storeList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"address pt26 p-0-26 bg-white",class:t.isShopid(e.shop_supplier_id)?"active":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onSelectedStore(e.shop_supplier_id)}}},[i("v-uni-view",{staticClass:"info flex-1"},[i("v-uni-view",{staticClass:"user f34 d-b-c"},[i("v-uni-view",{staticClass:"d-s-c"},[i("v-uni-view",{class:e.shop_supplier_id!=t.selectedId?"select-id":"select-id icon iconfont icon-tijiaochenggong"}),i("v-uni-view",{staticClass:"f32 fb gray3"},[t._v(t._s(e.name))])],1),i("v-uni-view",{staticClass:"distance"},[i("v-uni-text",[t._v("距离:"+t._s(e.distance))])],1)],1),i("v-uni-view",{staticClass:"d-b-c"},[i("v-uni-view",{staticClass:"text-ellipsis f22 gray6"},[t._v(t._s(e.address))]),e.delivery_time.length>0?i("v-uni-view",{staticClass:"text-ellipsis f22 gray6"},[i("v-uni-text",{staticClass:"icon iconfont icon-time",staticStyle:{color:"#333333","font-size":"22rpx","margin-right":"15rpx"}}),i("v-uni-text",[t._v(t._s(e.delivery_time[0]+"-"+e.delivery_time[1]))])],1):t._e()],1),i("v-uni-view",{staticClass:"mt16 mb30 d-b-c"},[i("v-uni-view"),i("v-uni-view",[0==e.status?i("v-uni-text",{staticClass:"shop_status theme-borderbtn"},[t._v("营业中")]):i("v-uni-text",{staticClass:"shop_status theme-borderbtn"},[t._v("暂停营业")])],1)],1)],1),i("v-uni-view",{staticClass:"info-right d-b-c"},[i("v-uni-view",{staticClass:"d-s-c gray3"},[i("v-uni-view",{staticClass:"d-s-c",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.callPhone(e.link_phone)}}},[i("v-uni-view",{staticClass:"icon iconfont icon-fasong"}),i("v-uni-text",{staticClass:"f26 fb ml18"},[t._v("咨询服务方")])],1),i("v-uni-view",{staticClass:"ml25  d-s-c",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.openmap(e.latitude,e.longitude)}}},[i("v-uni-view",{staticClass:"icon iconfont icon-002dianhua"}),i("v-uni-text",{staticClass:"f26 fb ml18"},[t._v("导航去这里")])],1)],1),i("v-uni-view",{staticClass:"f26 gray3 theme-btn",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.onSelectedStore(e.shop_supplier_id,!0)}}},[t._v("去下单")])],1)],1)})),0!=t.storeList.length||t.loading?i("uni-load-more",{attrs:{loadingType:t.loadingType}}):i("v-uni-view",{staticClass:"d-c-c p30"},[i("v-uni-text",{staticClass:"iconfont icon-wushuju"}),i("v-uni-text",{staticClass:"cont"},[t._v("亲，暂无相关记录哦")])],1)],2)],1)],1)},o=[]},"6d84":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 行为相关颜色 */\r\n/* 主题色 */\r\n/* 文字基本颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* start--主题色--start */\r\n/* end--主题色--end */.info[data-v-6d4f196b]{margin-left:%?20?%}.address-list[data-v-6d4f196b]{padding:%?30?% 0}.address-list .address[data-v-6d4f196b]{margin-bottom:%?22?%}.address-list .address .info-right[data-v-6d4f196b]{height:%?100?%;border-top:%?2?% solid #eee;flex-shrink:0}.foot-btns[data-v-6d4f196b]{padding:0}.foot-btns .btn-red[data-v-6d4f196b]{width:100%;height:%?90?%;line-height:%?90?%;border-radius:0}.address_img uni-image[data-v-6d4f196b]{width:%?154?%;height:%?154?%;border-radius:%?15?%}.address_tit[data-v-6d4f196b]{height:%?75?%;line-height:%?75?%;color:#959597;font-size:%?29?%;padding-left:%?28?%}.address_btn[data-v-6d4f196b]{width:%?130?%;height:%?60?%;line-height:%?60?%;border-radius:%?30?%;text-align:center;margin-top:%?50?%;color:#fff}[data-theme="default_theme"] .address_btn[data-v-6d4f196b]{background-color:#fc0!important}[data-theme="red_theme"] .address_btn[data-v-6d4f196b]{background-color:#e60b30!important}[data-theme="purple_theme"] .address_btn[data-v-6d4f196b]{background-color:#8f2df3!important}[data-theme="blue_theme"] .address_btn[data-v-6d4f196b]{background-color:#33a7ff!important}[data-theme="green_theme"] .address_btn[data-v-6d4f196b]{background-color:#1fc551!important}[data-theme="orange_theme"] .address_btn[data-v-6d4f196b]{background-color:#ff7f00!important}[data-theme="golden_theme"] .address_btn[data-v-6d4f196b]{background-color:#caa45a!important}.user[data-v-6d4f196b]{font-size:%?30?%;font-family:PingFang SC;font-weight:400;color:#333;opacity:1;margin:%?10?% 0}.distance[data-v-6d4f196b]{font-size:%?22?%;color:#666}.address_search[data-v-6d4f196b]{background-color:#f6f6f6;width:%?460?%;height:%?65?%;border-radius:%?33?%;margin-left:%?29?%;margin-right:%?30?%}.address_city[data-v-6d4f196b]{display:flex;align-items:center;margin-left:%?33?%}.icon-sousuo[data-v-6d4f196b]{margin-left:%?22?%;margin-right:%?9?%}.icon-jiantoushang[data-v-6d4f196b]{font-size:%?17?%;display:block;-webkit-transform:rotate(180deg);transform:rotate(180deg);color:#000;margin-left:%?22?%}.ml25[data-v-6d4f196b]{margin-left:%?25?%}.shop_status[data-v-6d4f196b]{padding:%?4?% %?8?%;border-radius:%?5?%}.shop_status uni-text[data-v-6d4f196b]{padding:%?3?% %?8?%;border-radius:%?4?%;margin-left:%?9?%}.select-id[data-v-6d4f196b]{width:%?38?%;height:%?38?%;border-radius:50%;border:%?1?% solid #d9d9d9;box-sizing:border-box;margin-right:%?24?%}.select-id.icon-tijiaochenggong[data-v-6d4f196b]{color:#fff;display:flex;justify-content:center;align-items:center;font-size:%?22?%}[data-theme="default_theme"] .select-id.icon-tijiaochenggong[data-v-6d4f196b]{border-color:#fc0!important}[data-theme="red_theme"] .select-id.icon-tijiaochenggong[data-v-6d4f196b]{border-color:#e60b30!important}[data-theme="purple_theme"] .select-id.icon-tijiaochenggong[data-v-6d4f196b]{border-color:#8f2df3!important}[data-theme="blue_theme"] .select-id.icon-tijiaochenggong[data-v-6d4f196b]{border-color:#33a7ff!important}[data-theme="green_theme"] .select-id.icon-tijiaochenggong[data-v-6d4f196b]{border-color:#1fc551!important}[data-theme="orange_theme"] .select-id.icon-tijiaochenggong[data-v-6d4f196b]{border-color:#ff7f00!important}[data-theme="golden_theme"] .select-id.icon-tijiaochenggong[data-v-6d4f196b]{border-color:#caa45a!important}[data-theme="default_theme"] .select-id.icon-tijiaochenggong[data-v-6d4f196b]{background-color:#fc0!important}[data-theme="red_theme"] .select-id.icon-tijiaochenggong[data-v-6d4f196b]{background-color:#e60b30!important}[data-theme="purple_theme"] .select-id.icon-tijiaochenggong[data-v-6d4f196b]{background-color:#8f2df3!important}[data-theme="blue_theme"] .select-id.icon-tijiaochenggong[data-v-6d4f196b]{background-color:#33a7ff!important}[data-theme="green_theme"] .select-id.icon-tijiaochenggong[data-v-6d4f196b]{background-color:#1fc551!important}[data-theme="orange_theme"] .select-id.icon-tijiaochenggong[data-v-6d4f196b]{background-color:#ff7f00!important}[data-theme="golden_theme"] .select-id.icon-tijiaochenggong[data-v-6d4f196b]{background-color:#caa45a!important}.info-right .theme-btn[data-v-6d4f196b]{width:%?142?%;border-radius:%?30?%;display:flex;justify-content:center;align-items:center;height:%?60?%;font-size:%?28?%;font-weight:800;color:#fff}.info-right .icon-fasong[data-v-6d4f196b]{width:%?51?%;height:%?51?%;border-radius:50%;display:flex;justify-content:center;align-items:center;background:#00cec9;color:#fff;box-shadow:0 %?5?% %?5?% 0 rgba(0,206,201,.09)}.info-right .icon-002dianhua[data-v-6d4f196b]{color:#fff;width:%?51?%;height:%?51?%;background:#fc0;display:flex;justify-content:center;align-items:center;box-shadow:0 %?5?% %?5?% 0 rgba(255,204,0,.09);border-radius:50%}',""]),t.exports=e},"6f1e":function(t,e,i){var a=i("6d84");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("571cc6be",a,!0,{sourceMap:!1,shadowMode:!1})},"714c":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".load-more[data-v-16514cdc]{display:flex;flex-direction:row;height:%?80?%;align-items:center;justify-content:center}.loading-img[data-v-16514cdc]{height:24px;width:24px;margin-right:10px}.loading-text[data-v-16514cdc]{font-size:%?24?%;color:#999}.loading-img>uni-view[data-v-16514cdc]{position:absolute}.load1[data-v-16514cdc],\n.load2[data-v-16514cdc],\n.load3[data-v-16514cdc]{height:24px;width:24px}.load2[data-v-16514cdc]{-webkit-transform:rotate(30deg);transform:rotate(30deg)}.load3[data-v-16514cdc]{-webkit-transform:rotate(60deg);transform:rotate(60deg)}.loading-img>uni-view uni-view[data-v-16514cdc]{width:6px;height:2px;border-top-left-radius:1px;border-bottom-left-radius:1px;background:#777;position:absolute;opacity:.2;-webkit-transform-origin:50%;transform-origin:50%;-webkit-animation:load-data-v-16514cdc 1.56s ease infinite}.loading-img>uni-view uni-view[data-v-16514cdc]:nth-child(1){-webkit-transform:rotate(90deg);transform:rotate(90deg);top:2px;left:9px}.loading-img>uni-view uni-view[data-v-16514cdc]:nth-child(2){-webkit-transform:rotate(180deg);top:11px;right:0}.loading-img>uni-view uni-view[data-v-16514cdc]:nth-child(3){-webkit-transform:rotate(270deg);transform:rotate(270deg);bottom:2px;left:9px}.loading-img>uni-view uni-view[data-v-16514cdc]:nth-child(4){top:11px;left:0}.load1 uni-view[data-v-16514cdc]:nth-child(1){-webkit-animation-delay:0s;animation-delay:0s}.load2 uni-view[data-v-16514cdc]:nth-child(1){-webkit-animation-delay:.13s;animation-delay:.13s}.load3 uni-view[data-v-16514cdc]:nth-child(1){-webkit-animation-delay:.26s;animation-delay:.26s}.load1 uni-view[data-v-16514cdc]:nth-child(2){-webkit-animation-delay:.39s;animation-delay:.39s}.load2 uni-view[data-v-16514cdc]:nth-child(2){-webkit-animation-delay:.52s;animation-delay:.52s}.load3 uni-view[data-v-16514cdc]:nth-child(2){-webkit-animation-delay:.65s;animation-delay:.65s}.load1 uni-view[data-v-16514cdc]:nth-child(3){-webkit-animation-delay:.78s;animation-delay:.78s}.load2 uni-view[data-v-16514cdc]:nth-child(3){-webkit-animation-delay:.91s;animation-delay:.91s}.load3 uni-view[data-v-16514cdc]:nth-child(3){-webkit-animation-delay:1.04s;animation-delay:1.04s}.load1 uni-view[data-v-16514cdc]:nth-child(4){-webkit-animation-delay:1.17s;animation-delay:1.17s}.load2 uni-view[data-v-16514cdc]:nth-child(4){-webkit-animation-delay:1.3s;animation-delay:1.3s}.load3 uni-view[data-v-16514cdc]:nth-child(4){-webkit-animation-delay:1.43s;animation-delay:1.43s}@-webkit-keyframes load-data-v-16514cdc{0%{opacity:1}100%{opacity:.2}}",""]),t.exports=e},9782:function(t,e,i){"use strict";i.r(e);var a=i("3721"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"992b":function(t,e,i){var a=i("714c");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("a7f55194",a,!0,{sourceMap:!1,shadowMode:!1})},a4a0:function(t,e,i){"use strict";i.r(e);var a=i("4bce"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},d56c:function(t,e,i){"use strict";var a=i("992b"),n=i.n(a);n.a},db94:function(t,e,i){"use strict";i.r(e);var a=i("0b72"),n=i("9782");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("d56c");var d,r=i("f0c5"),s=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"16514cdc",null,!1,a["a"],d);e["default"]=s.exports}}]);