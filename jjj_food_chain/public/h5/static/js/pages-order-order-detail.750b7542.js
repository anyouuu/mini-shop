(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-order-detail"],{"142c":function(t,e,i){"use strict";var a=i("8f23"),n=i.n(a);n.a},2247:function(t,e,i){"use strict";i.r(e);var a=i("9dd8"),n=i("f904");for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("142c");var o,s=i("f0c5"),d=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"c1ffc766",null,!1,a["a"],o);e["default"]=d.exports},2521:function(t,e,i){"use strict";var a=i("3833"),n=i.n(a);n.a},3833:function(t,e,i){var a=i("c39e");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("6c779172",a,!0,{sourceMap:!1,shadowMode:!1})},"40e9":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pay=void 0;var a=function(t,e,i,a){if(-10===t.code)return e.showError(t.msg),!1;if(20==t.data.pay_type){if(!e.isWeixin())return void uni.navigateTo({url:"/pages/order/pay-h5/pay-h5?order_id="+t.data.order_id+"&order_type="+t.data.order_type});WeixinJSBridge.invoke("getBrandWCPayRequest",JSON.parse(t.data.payment),(function(r){"get_brand_wcpay_request:ok"==r.err_msg?n(t,e,i):"get_brand_wcpay_request:cancel"==r.err_msg?e.showSuccess("支付取消",(function(){o(t,a)})):e.showError("订单未支付成功",(function(){o(t,a)}))}))}10==t.data.pay_type&&n(t,e,i),30==t.data.pay_type&&uni.navigateTo({url:"/pages/order/alipay-h5/alipay-h5?order_id="+t.data.order_id+"&order_type="+t.data.order_type})};function n(t,e,i){i?i(t):r(t)}function r(t){uni.reLaunch({url:"/pages/order/pay-success/pay-success?order_id="+t.data.order_id})}function o(t,e){e?e(t):uni.redirectTo({url:"/pages/order/order-detail?order_id="+t.data.order_id})}e.pay=a},"414c":function(t,e,i){"use strict";i.r(e);var a=i("db91"),n=i("6477");for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("2521");var o,s=i("f0c5"),d=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"20276bcb",null,!1,a["a"],o);e["default"]=d.exports},6477:function(t,e,i){"use strict";i.r(e);var a=i("764e"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"764e":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("2247")),r=i("40e9"),o={data:function(){return{loadding:!0,indicatorDots:!0,autoplay:!0,interval:2e3,duration:500,isPayPopup:!1,order_id:0,detail:{order_status:[],address:{region:[]},product:[],pay_type:[],delivery_type:[],pay_status:[]},extractStore:{},is_fightgroup:!1,showAlipay:!1,qrimg:""}},components:{Popup:n.default},onLoad:function(t){this.order_id=t.order_id},mounted:function(){uni.showLoading({title:"加载中"}),this.getData()},methods:{getData:function(){var t=this,e=t.order_id;t._get("user.order/detail",{order_id:e},(function(e){t.detail=e.data.order,t.extractStore=e.data.order.extractStore,t.loadding=!1,uni.hideLoading()}))},hidePopupFunc:function(){this.isPayPopup=!1},cancelOrder:function(t){var e=this,i=t;uni.showModal({title:"提示",content:"您确定要取消当前订单吗?",success:function(t){t.confirm&&(uni.showLoading({title:"正在处理"}),e._get("user.order/cancel",{order_id:i},(function(t){uni.hideLoading(),uni.showToast({title:"操作成功",duration:2e3,icon:"success"}),e.getData()})))}})},orderReceipt:function(t){var e=this;uni.showModal({title:"提示",content:"您确定要收货吗?",success:function(i){i.confirm&&(uni.showLoading({title:"正在处理"}),e._post("user.order/receipt",{order_id:t},(function(t){uni.hideLoading(),uni.showToast({title:t.msg,duration:2e3,icon:"success"}),e.getData()})))}})},gotoExpress:function(t){uni.navigateTo({url:"/pages/order/express/express?order_id="+t})},onApplyRefund:function(t){uni.navigateTo({url:"/pages/order/refund/apply/apply?order_product_id="+t})},payTypeFunc:function(t){var e=this,i=e.order_id;e.isPayPopup=!1,uni.showLoading({title:"加载中"}),e._post("user.order/pay",{payType:t,order_id:i,pay_source:e.getPlatform()},(function(t){uni.hideLoading(),(0,r.pay)(t,e)}))},onPayOrder:function(t){var e=this;e.isPayPopup=!0,e.order_id=t}}};e.default=o},"8f23":function(t,e,i){var a=i("be24");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("45e11d7a",a,!0,{sourceMap:!1,shadowMode:!1})},"95b9":function(t,e,i){"use strict";i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{show:{type:Boolean,default:!1},type:{type:String,default:"middle"},width:{type:Number,default:600},heigth:{type:Number,default:800},padding:{type:Number,default:30},backgroundColor:{type:String,default:"#ffffff"},boxShadow:{type:String,default:"0 0 30upx rgba(0, 0, 0, .1)"},msg:{type:String,default:""}},data:function(){var t=0;return t=0,{offsetTop:t}},methods:{hide:function(){this.$emit("hidePopup")}}};e.default=a},"9dd8":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"uni-mask",style:{top:t.offsetTop+"px"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hide.apply(void 0,arguments)}}}),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],class:["uni-popup","uni-popup-"+t.type],style:"width:"+t.width+"rpx; heigth:"+t.heigth+"rpx;padding:"+t.padding+"rpx;background-color:"+t.backgroundColor+";box-shadow:"+t.boxShadow+";"},[""!=t.msg?i("v-uni-view",{staticClass:"popup-head"},[t._v(t._s(t.msg))]):t._e(),t._t("default")],2)],1)},r=[]},be24:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".uni-mask[data-v-c1ffc766]{position:fixed;z-index:998;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,.3)}.uni-popup[data-v-c1ffc766]{position:absolute;z-index:999}.uni-popup-middle[data-v-c1ffc766]{display:flex;flex-direction:column;align-items:flex-start;width:%?600?%;\n\t/* height:800upx; */border-radius:%?10?%;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);justify-content:flex-start;padding:%?30?%;overflow:auto}.popup-head[data-v-c1ffc766]{width:100%;padding-bottom:%?40?%;box-sizing:border-box;font-size:%?30?%;font-weight:700}.uni-popup-top[data-v-c1ffc766]{top:0;left:0;width:100%;height:%?100?%;line-height:%?100?%;text-align:center}.uni-popup-bottom[data-v-c1ffc766]{left:0;bottom:0;width:100%;line-height:%?100?%;text-align:center}",""]),t.exports=e},c39e:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 行为相关颜色 */\r\n/* 主题色 */\r\n/* 文字基本颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* start--主题色--start */\r\n/* end--主题色--end */uni-page-body[data-v-20276bcb]{min-height:100%;background-color:#f1f8fa}.order-box[data-v-20276bcb]{padding:%?26?%;margin-bottom:%?100?%}[data-theme="default_theme"] .order-box[data-v-20276bcb]{background:linear-gradient(180deg,#fc0,rgba(255,204,0,.09))!important}[data-theme="red_theme"] .order-box[data-v-20276bcb]{background:linear-gradient(180deg,#e60b30,rgba(230,11,48,.05))!important}[data-theme="purple_theme"] .order-box[data-v-20276bcb]{background:linear-gradient(180deg,#8f2df3,rgba(143,45,243,.05))!important}[data-theme="blue_theme"] .order-box[data-v-20276bcb]{background:linear-gradient(180deg,#33a7ff,rgba(51,167,255,.05))!important}[data-theme="green_theme"] .order-box[data-v-20276bcb]{background:linear-gradient(180deg,#1fc551,rgba(31,197,81,.05))!important}[data-theme="orange_theme"] .order-box[data-v-20276bcb]{background:linear-gradient(180deg,#ff7f00,rgba(255,127,0,.05))!important}[data-theme="golden_theme"] .order-box[data-v-20276bcb]{background:linear-gradient(180deg,#caa45a,rgba(202,164,90,.05))!important}.top-state[data-v-20276bcb]{background-color:#fff;border-radius:%?8?%;padding:0 %?30?%;box-sizing:border-box;margin-bottom:%?30?%}.top-state .state-height[data-v-20276bcb]{height:%?100?%;line-height:%?100?%}.order-content[data-v-20276bcb]{padding:0 %?30?%;background-color:#fff;border-radius:%?8?%}.order-content .shop-name[data-v-20276bcb]{height:%?86?%;line-height:%?86?%}.order-content .order-prolist .proitem[data-v-20276bcb]{padding:%?24?% 0}.order-content .order-prolist .proitem .pro-image[data-v-20276bcb]{width:%?148?%;height:%?148?%;border-radius:%?8?%;margin-right:%?32?%}.order-content .order-prolist .proitem .pro-image uni-image[data-v-20276bcb]{width:%?148?%;height:%?148?%;border-radius:%?8?%}.order-content .order-prolist .proitem .pro-price[data-v-20276bcb]{height:%?148?%}.order-content .order-prolist .proitem .pro-price .pro-price-item[data-v-20276bcb]{width:%?170?%;padding-right:%?30?%;box-sizing:border-box;text-align:right}.order-content .pro-cont-item[data-v-20276bcb]{height:%?92?%;border-bottom:%?2?% solid #eee;display:flex;justify-content:space-between;align-items:center}.order-content .pro-cont-item.pro-cont-total[data-v-20276bcb]{justify-content:flex-end}.drinks-img[data-v-20276bcb]{width:%?260?%;height:%?260?%}.tips[data-v-20276bcb]{margin:%?60?% 0 %?80?%;line-height:%?48?%}.drink-btn[data-v-20276bcb]{width:%?320?%;border-radius:50rem!important;margin-bottom:%?40?%;font-size:%?28?%;line-height:3}.pay-cell[data-v-20276bcb]{width:100%;display:flex;align-items:center;justify-content:space-between;font-size:%?28?%;color:#5a5b5c;margin-bottom:%?40?%}.pay-cell[data-v-20276bcb]:nth-last-child(1){margin-bottom:0}.sort-num[data-v-20276bcb]{font-size:%?64?%;font-weight:700;color:#5a5b5c;line-height:2}.steps__img-column[data-v-20276bcb]{display:flex;margin:%?30?% 0}.steps__img-column .steps__img-column-item[data-v-20276bcb]{flex:1;display:flex;align-items:center;justify-content:center}.steps__img-column .steps__img-column-item uni-image[data-v-20276bcb]{width:%?80?%;height:%?80?%}.steps__text-column[data-v-20276bcb]{display:flex;margin-bottom:%?40?%}.steps__text-column .steps__text-column-item[data-v-20276bcb]{flex:1;display:inline-flex;display:flex;align-items:center;justify-content:center;font-size:%?28?%;color:#919293}.steps__text-column .steps__text-column-item.active[data-v-20276bcb]{color:#5a5b5c;font-weight:700}.steps__text-column .steps__text-column-item.active .steps__column-item-line[data-v-20276bcb]{background-color:#5a5b5c}.steps__text-column .steps__text-column-item .steps__column-item-line[data-v-20276bcb]{flex:1;height:%?2?%;background-color:#919293;-webkit-transform:scaleY(.5);transform:scaleY(.5)}.steps__text-column .steps__text-column-item .steps__text-column-item-text[data-v-20276bcb]{margin:0 8px}.pay_btn[data-v-20276bcb]{padding:%?10?% %?20?%;border-radius:%?20?%;width:%?337?%;height:%?84?%;display:flex;justify-content:center;align-items:center;font-size:%?32?%;font-weight:800;margin-top:%?40?%}.qr_img[data-v-20276bcb]{width:%?350?%;height:%?350?%;margin:0 auto}.w100[data-v-20276bcb]{width:100%}.other_box[data-v-20276bcb]{margin-top:%?22?%;background-color:#fff;border-radius:%?8?%;padding:0 %?34?%;box-sizing:border-box;padding-bottom:%?30?%}.other_box .meal_item-title[data-v-20276bcb]{height:%?88?%;line-height:%?88?%;font-size:%?28?%;font-weight:800;color:#282828;border-bottom:%?1?% solid #eee;margin-bottom:%?30?%}.other_box .meal_item[data-v-20276bcb]{font-size:%?24?%;margin-bottom:%?38?%;color:rgba(40,40,40,.31);display:flex;justify-content:space-between;align-items:flex-start}.other_box .meal_item .right[data-v-20276bcb]{width:%?360?%;text-align:right}body.?%PAGE?%[data-v-20276bcb]{background-color:#f1f8fa}',""]),t.exports=e},db91:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{attrs:{"data-theme":t.theme()}},[t.loadding?t._e():i("v-uni-view",{staticClass:"order-box"},[i("v-uni-view",{staticClass:"f40 fb mb40"},[t._v(t._s(t.detail.state_text))]),10==t.detail.pay_status.value?i("v-uni-view",{staticClass:"d-s-c mt20 mb40"},[i("v-uni-view",{staticClass:"f26"},[t._v("交易将在："),i("v-uni-text",{staticClass:"orange"},[t._v(t._s(t.detail.pay_end_time))]),t._v("后关闭，请及时付款")],1)],1):t._e(),1!=t.detail.order_type&&10==t.detail.delivery_type.value&&30==t.detail.order_status.value?i("v-uni-view",{staticClass:"top-state"},[i("v-uni-view",{staticClass:"d-b-c state-height border-b-d9"},[i("v-uni-view",{},[t._v("配送员正在为你配送中")])],1),i("v-uni-view",{staticClass:"d-b-c state-height"},[i("v-uni-view",[t._v("预计取餐时间")]),i("v-uni-view",{staticClass:"blue"},[t._v(t._s(t.detail.mealtime))])],1)],1):t._e(),i("v-uni-view",{staticClass:"order-content"},[i("v-uni-view",{staticClass:"shop-name border-b-d9"},[t._v(t._s(t.detail.supplier.name))]),i("v-uni-view",{staticClass:"order-prolist"},t._l(t.detail.product,(function(e,a){return i("v-uni-view",{key:a,staticClass:"d-s-c proitem"},[i("v-uni-view",{staticClass:"pro-image"},[i("v-uni-image",{attrs:{src:e.image.file_path,mode:""}})],1),i("v-uni-view",{staticClass:"d-b-s pro-price flex-1"},[i("v-uni-view",{},[i("v-uni-view",{staticClass:"f28 text-ellipsis fb mb10"},[t._v(t._s(e.product_name))]),i("v-uni-view",{staticClass:"f20 gray9 w-b-a"},[t._v(t._s(e.product_attr))])],1),i("v-uni-view",{staticClass:"pro-price-item"},[i("v-uni-view",{staticClass:"f24 gray3 mb10"},[t._v("￥"+t._s(e.total_pay_price))]),i("v-uni-view",{staticClass:"f22 gray9"},[t._v("*"+t._s(e.total_num))])],1)],1)],1)})),1),i("v-uni-view",[i("v-uni-view",{staticClass:"pro-cont-item"},[i("v-uni-view",[t._v("商品小计")]),i("v-uni-view",[t._v("￥"+t._s(t.detail.total_price))])],1),0!=t.detail.bag_price?i("v-uni-view",{staticClass:"pro-cont-item"},[i("v-uni-view",[t._v("包装费")]),i("v-uni-view",[t._v("￥"+t._s(t.detail.bag_price))])],1):t._e(),t.detail.reduce?i("v-uni-view",{staticClass:"pro-cont-item"},[i("v-uni-view",[t._v("配送费")]),i("v-uni-view",[t._v("￥"+t._s(t.detail.express_price))])],1):t._e()],1)],1),i("v-uni-view",{staticClass:"other_box"},[i("v-uni-view",{staticClass:"meal_item-title"},[t._v("配送信息")]),i("v-uni-view",{staticClass:"meal_item"},[i("v-uni-view",[t._v("配送服务")]),i("v-uni-view",{staticClass:"right"},[t._v(t._s(t.detail.order_type_text))])],1),i("v-uni-view",{staticClass:"meal_item"},[i("v-uni-view",[t._v("期望时间")]),i("v-uni-view",{staticClass:"right"},[t._v(t._s(t.detail.mealtime))])],1),1!=t.detail.order_type?i("v-uni-view",{staticClass:"meal_item"},[i("v-uni-view",[t._v("配送地址")]),i("v-uni-view",{staticClass:"right"},[i("v-uni-view",[t._v(t._s(t.detail.address.detail+t.detail.address.address))]),i("v-uni-view",[t._v(t._s(t.detail.address.name+" "+t.detail.address.phone))])],1)],1):t._e()],1),i("v-uni-view",{staticClass:"other_box"},[i("v-uni-view",{staticClass:"meal_item-title"},[t._v("订单信息")]),i("v-uni-view",{staticClass:"meal_item"},[i("v-uni-view",[t._v("订单号码")]),i("v-uni-view",{staticClass:"right"},[t._v(t._s(t.detail.order_no))])],1),i("v-uni-view",{staticClass:"meal_item"},[i("v-uni-view",[t._v("下单时间")]),i("v-uni-view",{staticClass:"right"},[t._v(t._s(t.detail.create_time))])],1),i("v-uni-view",{staticClass:"meal_item"},[i("v-uni-view",[t._v("支付金额")]),i("v-uni-view",{staticClass:"right"},[t._v(t._s(t.detail.pay_price))])],1),i("v-uni-view",{staticClass:"meal_item"},[i("v-uni-view",[t._v("支付方式")]),i("v-uni-view",{staticClass:"right"},[t._v(t._s(t.detail.pay_type.text))])],1),i("v-uni-view",{staticClass:"meal_item"},[i("v-uni-view",[t._v("备注")]),i("v-uni-view",{staticClass:"right"},[i("v-uni-view",[t._v(t._s(t.detail.buyer_remark))])],1)],1)],1),10==t.detail.pay_status.value?i("v-uni-view",{staticClass:"d-c-c"},[i("v-uni-view",{staticClass:"f26 theme-btn pay_btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onPayOrder(t.detail.order_id)}}},[t._v("立即支付")])],1):t._e(),i("Popup",{attrs:{show:t.isPayPopup,msg:"支付方式"},on:{hidePopup:function(e){arguments[0]=e=t.$handleEvent(e),t.hidePopupFunc.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"buy-checkout ww100"},[i("v-uni-view",{class:20==t.pay_type?"item active border-b-e":"item border-b-e",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.payTypeFunc(20)}}},[i("v-uni-view",{staticClass:"d-s-c"},[i("v-uni-view",{staticClass:"icon-box d-c-c mr10"},[i("span",{staticClass:"icon iconfont icon-weixin"})]),i("v-uni-text",{staticClass:"key"},[t._v("微信支付")])],1),i("v-uni-view",{staticClass:"icon-box d-c-c"})],1),i("v-uni-view",{class:30==t.pay_type?"item active border-b-e":"item border-b-e",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.payTypeFunc(30)}}},[i("v-uni-view",{staticClass:"d-s-c"},[i("v-uni-view",{staticClass:"icon-box d-c-c mr10"},[i("span",{staticClass:"icon iconfont icon-zhifubao"})]),i("v-uni-text",{staticClass:"key"},[t._v("支付宝支付")])],1),i("v-uni-view",{staticClass:"icon-box d-c-c"})],1),i("v-uni-view",{class:10==t.pay_type?"item active":"item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.payTypeFunc(10)}}},[i("v-uni-view",{staticClass:"d-s-c"},[i("v-uni-view",{staticClass:"icon-box d-c-c mr10"},[i("span",{staticClass:"icon iconfont icon-yue"})]),i("v-uni-text",{staticClass:"key"},[t._v("余额支付")])],1),i("v-uni-view",{staticClass:"icon-box d-c-c"})],1)],1),i("v-uni-view",{staticClass:"bts"})],1)],1)],1)},r=[]},f904:function(t,e,i){"use strict";i.r(e);var a=i("95b9"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a}}]);